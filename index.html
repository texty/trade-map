<!DOCTYPE html>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Імпорт-експорт</title>

<!-- Links -->
<link href="https://fonts.googleapis.com/css?family=Noto+Sans:400,400i,700,700i|Open+Sans:400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,700,700i,900|Source+Sans+Pro:300i,400,400i,600,600i,700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
<link rel="stylesheet" href="css/styles.css">


<body>

<header>
    <div>
    <h1>Топ-5 продуктів українського експорту/імпорту</h1>
    <h3>Основний меседж - ми все ще дофіга торгуємо з Росією, але вже помітно менше</h3>
    </div>

</header>

<p class="text">Головним товаром експорту залишається залізо і сталь. За 18 років Україна суттєвао збільшила експорт зернових та рослинних і тварриних жирів.
    Ми дослідили динаміку по тоарах, що входили в топ-5 вітчизняного експорту та імпорту. Щодо імпорту, то найбільше ми імпортуємо Мінеральне паливо, мінеральні масла і продукти її перегонки; бітумінозні речовини; мінеральні воски. Мінерального палива з Росії ми імпортуємо біьше ніж з країн ЄС. </p>


<section class="line-chart-container">
    <div id="ru-eu" class="buttons">
        <p id="show-all">Загалом</p>
        <p id="show-eu">Європейський Союз</p>
        <p id="show-asia">Азія</p>
        <p id="show-ru">Росія</p>
        <p id="show-usa">США</p>
        <p id="show-africa">Африка</p>


        <p class="note" style="font-size:14px; color: grey; text-align: left; font-style: italic ">Під країнами ЄС за кожен рік рахувались ті країни, які входили до ЄС станом на поточний рік. Зростання торгівлі до ЄС на графіках частково повʼязано з цим, адже кількість країн - членів ЄС суттєво збільшилась протягом останніх 20 років </p>

        <p class="note" style="font-size:14px; color: grey; text-align: left; font-style: italic ">Країни Азії на графіках за винятком Росії та Кіпру. Останній входить до складу ЄС і врахований серед країн-членів.</p>

    </div>

    <div>
        <h2 id="selected-country"> Торгівля зі світом, 2001-2018</h2>


        <div id="general-charts">
            <div id="general-import" class="general-chart"></div>
            <!--<div id="general-export" class="general-chart"></div>-->
        </div>
        <div class="buttons">
            <p id="show-import" class="switch-button">Імпорт</p>
            <p id="show-export" class="switch-button">Експорт</p>
        </div>

        <h3> Топ-5 продуктів, 2001-2018</h3>
        <p style="font-size:14px; color: grey;">Cіра пунктирна лінія показує динаміку без уніфікованої шкали і значення за 2001 та 2018 роки (<b>млн $</b>)</p>

        <div id="line-chart"></div>
    </div>
</section>

<p class="text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

<div id="tip-chart"></div>


<section id="cases-wrapper">
    <div></div>
    <div>
        <h3>Цікаві випадки</h3>
        <div class="buttons">
            <p id="show-import-cases" class="switch-button">Імпорт</p>
            <p id="show-export-cases" class="switch-button">Експорт</p>
            <p style="font-size:14px; color: grey;">Cіра пунктирна лінія показує динаміку без уніфікованої шкали і значення за 2001 та 2018 роки (<b>млн $</b>)</p>
        </div>
        <div id="cases-chart"></div>
    </div>

</section>





<!--<section id="playground">-->
    <!--<div id="data-vis">-->
        <!--<ul id="my-list"></ul>-->

        <!--<div id="graphics">-->
            <!--<p id="linechart-title"></p>-->
            <!--<div id="line-chart2"></div>-->
            <!--<p style="font-size: 14px; text-align: center; margin:20px auto;">Графік вище показує динамікау експорту та імпорту з 2001 року.-->
                <!--<br><b>Сіра плашка під роками інтерактивна - її можна рухати і тягути праворуч-ліворуч.</b> <br>Встановіть потрібний період і подивіться, з якими країнами <br>ми торгували в обрані роки.-->
            <!--</p>-->

            <!--<p id="sankey-annotation"> У <span id="selected-years"></span> ми торгували з такими країнами:</p>-->
            <!--<div id="sankey"></div>-->

        <!--</div>-->
    <!--</div>-->
<!--</section>-->


<script type="text/javascript" src="lib/jquery-2.1.4.min.js"></script>
<script type="text/javascript" src="lib/d3.v4.js"></script>
<script src="lib/d3-sankey.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<!--<script src="https://d3js.org/d3-geo-projection.v2.min.js"></script>-->
<!--<script src="https://unpkg.com/tippy.js@3/dist/tippy.all.min.js"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<!--<script src="lib/d3.tip.v0.6.3.js"></script>-->
<script src="lib/share-behavior.js"></script>







<script>
    const exColor = "#c01788";
    const imColor = "rgb(24, 100, 170)";
    var showImport = true;
    var showExport = false;

    var parseDate = d3.timeParse("%Y-%m");
    var monthNames = ["Січень", "Лютий ", "Березень", "Квітень", "Травень", "Червень", "Липень", "Серпень", "Вересень", "Жовтень", "Листопад", "Грудень"];

    var parseYear = d3.timeParse("%Y");
    var bisect = d3.bisector(function(d) { return d.date; }).left;


    var chart_data;
    function retrieve_chart_data(cb) {
        if (chart_data) return cb(chart_data);

        return d3.csv("data/newLineChartData2.csv", function(err, myData){
            if (err) throw err;

            myData.forEach(function (item) {
                item.code = +item.code;
                item.year = parseYear(item.year);
                item.Exported = +item.Exported  || 0;
                item.Imported = +item.Imported  || 0;
            });

            chart_data = myData;
            if (cb) return cb(myData);
            return;
        })
    }

    /* Показати імпорт */
    $("#show-import").on("click", function(d) {
        showExport = false;
        showImport = true;
        d3.selectAll("#line-chart > .svg-wrapper.Exported").style("display", "none");
        d3.selectAll("#line-chart >.svg-wrapper.Imported").style("display", "block");
        d3.select("#show-import").style("background-color", imColor).style("color", "white");
        d3.select("#show-export").style("background-color", "white").style("color", exColor);
    });

    /* Показати експорт */
    $("#show-export").on("click", function(d) {
        showExport = true;
        showImport = false;
        d3.selectAll("#line-chart >.svg-wrapper.Imported").style("display", "none");
        d3.selectAll("#line-chart >.svg-wrapper.Exported").style("display", "block");
        d3.select("#show-export").style("background-color", exColor).style("color", "white");
        d3.select("#show-import").style("background-color", "white").style("color", imColor);
    });

    /* Показати експорт та імпорт у цікавих випадках*/
    $("#show-export-cases").on("click", function(d) {
        d3.selectAll("#cases-chart >.svg-wrapper.Imported").style("display", "none");
        d3.selectAll("#cases-chart >.svg-wrapper.Exported").style("display", "block");
        d3.select("#show-export-cases").style("background-color", exColor).style("color", "white");
        d3.select("#show-import-cases").style("background-color", "white").style("color", imColor);
    });

    $("#show-import-cases").on("click", function(d) {
        d3.selectAll("#cases-chart >.svg-wrapper.Imported").style("display", "block");
        d3.selectAll("#cases-chart >.svg-wrapper.Exported").style("display", "none");
        d3.select("#show-import-cases").style("background-color", imColor).style("color", "white");
        d3.select("#show-export-cases").style("background-color", "white").style("color", exColor);
    });


</script>

<!-- new version-->
<!--<script src="lib/scrollama.min.js"></script>-->
<script type="text/javascript" src="js/newLineChart.js"></script>
<!--<script type="text/javascript" src="js/generalRuEuChart.js"></script>-->
<script type="text/javascript" src="js/comparable.js"></script>

<!--<script type="text/javascript" src="js/map.js"></script>-->
<!--<script type="text/javascript" src="js/sankey.js"></script>-->
<!--<script type="text/javascript" src="js/linechart.js"></script>-->
<!--<script type="text/javascript" src="js/spark.js"></script>-->
<!--<script type="text/javascript" src="js/script.js"></script>-->



<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-18136548-1']);
    _gaq.push(['_trackPageview']);
    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>

</body>
